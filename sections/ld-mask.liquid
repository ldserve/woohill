<div class="card-{{section.id}}">
  <div class="ld-mask">
    <div class="PC">
     <a href="{{section.settings.link.url}}" class="mask-link">
      <img class="lazyload img_item" srcset="{%- if section.settings.image.width >= 550 -%}{{ section.settings.image | img_url: '550x' }} 550w,{%- endif -%}
      {%- if section.settings.image.width >= 720 -%}{{ section.settings.image | img_url: '720x' }} 720w,{%- endif -%}
      {%- if section.settings.image.width >= 990 -%}{{ section.settings.image | img_url: '990x' }} 990w,{%- endif -%}
      {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | img_url: '1100x' }} 1100w,{%- endif -%}
      {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | img_url: '1500x' }} 1500w,{%- endif -%}
      {%- if section.settings.image.width >= 2200 -%}{{ section.settings.image | img_url: '2200x' }} 2200w,{%- endif -%}
      {%- if section.settings.image.width >= 3000 -%}{{ section.settings.image | img_url: '3000x' }} 3000w,{%- endif -%}
      {{ section.settings.image | img_url: 'master' }} {{ section.settings.image.width }}w"
src="{{ section.settings.image | img_url: '1500x' }}" data-sizes="auto" />
      <div class="mask-link-text">
          <div>
            {% for block in section.blocks %}
            <div>{{block.settings.text}}</div>
           {% endfor %}
          </div>
      </div>
     </a>
    </div>
    <div class="mobile">
        <a href="{{section.settings.link.url}}" class="mask-link">
          <img class="lazyload img_item" srcset="{%- if block.settings.mobile_image.width >= 550 -%}{{ block.settings.mobile_image | img_url: '550x' }} 550w,{%- endif -%}
                      {%- if section.settings.mobile_image.width >= 720 -%}{{ section.settings.mobile_image | img_url: '720x' }} 720w,{%- endif -%}
                      {%- if section.settings.mobile_image.width >= 990 -%}{{ section.settings.mobile_image | img_url: '990x' }} 990w,{%- endif -%}
                      {%- if section.settings.mobile_image.width >= 1100 -%}{{ section.settings.mobile_image | img_url: '1100x' }} 1100w,{%- endif -%}
                      {%- if section.settings.mobile_image.width >= 1500 -%}{{ section.settings.mobile_image | img_url: '1500x' }} 1500w,{%- endif -%}
                      {%- if section.settings.mobile_image.width >= 2200 -%}{{ section.settings.mobile_image | img_url: '2200x' }} 2200w,{%- endif -%}
                      {%- if section.settings.mobile_image.width >= 3000 -%}{{ section.settings.mobile_image | img_url: '3000x' }} 3000w,{%- endif -%}
                      {{ section.settings.mobile_image | img_url: 'master' }} {{ section.settings.mobile_image.width }}w"
        src="{{ section.settings.mobile_image | img_url: '1500x' }}" data-sizes="auto" />
        <div class="mask-link-text">
          <div>
            {% for block in section.blocks %}
            <div>{{block.settings.text}}</div>
           {% endfor %}
          </div>
        </div>
         </a>
    </div>
  </div>
</div>

<style>
  .card-{{section.id}} {
    margin:0 auto;
  }
  /* .card-{{section.id}}  .ld-mask{
    position: relative;
  } */
  .card-{{section.id}} .mask-link {
    position: relative;
    display: block;
  }
  .card-{{section.id}} .ld-mask  img {
      width: 100%;
    }

  /*移动样式*/
  @media (max-width: 767.98px) {
  .card-{{section.id}}  .ld-mask .PC {
      display: none;
    }
    .card-{{section.id}} .ld-mask .mobile {
      display: block;
    }
    .card-{{section.id}} {
    width: 100%;
  }
  .card-{{section.id}} .mask-link:hover .mask-link-text{
    opacity: 1;
  }
  .card-{{section.id}} .mask-link .mask-link-text{
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    font-size: {{section.settings.m_title_size}}px;
    color: {{section.settings.text_color}};
    font-weight: {{section.settings.text_style}};
    display: flex;
    align-items: center;
    justify-content: center;
  }
  }

  @media (min-width: 768px) {

    /*PC样式*/
    .card-{{section.id}} .ld-mask .mobile {
      display: none;
    }
    .card-{{section.id}}  .ld-mask .PC{
    display: block;
    }
    .card-{{section.id}} {
    width: 1000px;
  }
  .card-{{section.id}} .mask-link .mask-link-text{
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0;
    transition: opacity .2s ease-in-out;
    background-color: rgba(0, 0, 0, 0.2);
    font-size: {{section.settings.title_size}}px;
    color: {{section.settings.text_color}};
    font-weight: {{section.settings.text_style}};
    display: flex;
    align-items: center;
    justify-content: center;
   }
  .card-{{section.id}} .mask-link:hover .mask-link-text{
    opacity: 1;
  }
  }
</style>
{% schema %}
{
"name": "带遮罩层的banner",
"settings": [
{
"type": "header",
"content": {
"en-US": "Settings",
"zh-CN": "设置"
}
},
{
"type": "image_picker",
"id": "image",
"label": "上传PC图片"
},
{
"type": "image_picker",
"id": "mobile_image",
"label": "上传mobile图片"
},
{
  "type": "url",
  "id": "link",
  "label":"链接"
  },
  {
    "type": "range",
    "id": "title_size",
    "min": 0,
    "max": 100,
    "step": 1,
    "unit": "px",
    "label": "标题文字大小",
    "default": 22
    },
    {
      "type": "range",
      "id": "m_title_size",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "m端标题文字大小",
      "default": 22
      },
    {
      "type": "color",
      "id": "text_color",
      "default": "#fff",
      "label": "标题字体色"
    },
    {
      "type": "select",
      "id": "text_style",
      "options": [
        {
          "value": "lighter",
          "label": "细"
        },
        {
          "value": "normal",
          "label": "常规"
        },
        {
          "value": "bold",
          "label": "粗体"
        },
        {
          "value": "bolder",
          "label": "加粗"
        }
      ],
      "default": "normal",
      "label": "标题文字粗细"
    }
],
"blocks": [
{
"type": "banner",
"name":"标题",
"settings": [
{
  "type": "text",
  "id": "text",
  "default": "Text",
  "label": "标题"
  }
]
}
],
"presets": [
{
"name": "带遮罩层的banner",
"blocks": [
{
"type": "banner"
}
]
}
]
}
{% endschema %}